(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{83:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/items",function(){return n(7321)}])},6694:function(e,t,n){"use strict";n.d(t,{X7:function(){return b},ZP:function(){return g},lf:function(){return S},CZ:function(){return N}});var a=n(5893),r=n(5769),s=n(7011),i=n(1411),o=(n(1217),n(5147)),l=n(7294),c=n(7431),u=n(9521),d=n(3157),x=n(5960),m=n(5449);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){h(e,t,n[t])}))}return e}function p(){var e=(0,u.S)().progress;return(0,a.jsx)(d.V,{center:!0,children:(0,a.jsx)("div",{className:"w-96 h-96",children:(0,a.jsx)("div",{className:"h-2 bg-gradient-to-r from-razzmatazz to-blue-500 rounded-lg",children:(0,a.jsx)("div",{className:"h-2 bg-diablo-dark-gold rounded-lg w-".concat(e.toFixed(),"%")})})})})}function b(e){var t=e.fogColor,n=e.pntLgts,r=e.boxTexture,s=e.isBox,i=e.objPos,c=e.objScale,u=e.isSquareCard,d=e.fastSpin;return(0,a.jsx)(o.Xz,{children:(0,a.jsxs)(l.Suspense,{fallback:null,children:[(0,a.jsx)("fog",{attach:"fog",args:t}),n.map((function(e,t){return(0,a.jsx)("pointLight",{position:e.position,color:e.color},"light-".concat(t))})),(0,a.jsx)(v,{position:i||[0,0,2],rotation:[0,-.2,0],boxTexture:r,isBox:s,objScale:c,isSquareCard:u,fastSpin:d}),(0,a.jsx)(x.xC,{multisampling:8,children:(0,a.jsx)(x.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}function g(e){var t=e.fogColor,n=e.pntLgts,r=e.boxTexture,s=(e.isBox,e.objPos),i=e.objScale,c=e.isSquareCard;e.fastSpin;return(0,a.jsx)(o.Xz,{children:(0,a.jsxs)(l.Suspense,{fallback:null,children:[(0,a.jsx)("fog",{attach:"fog",args:t}),n.map((function(e,t){return(0,a.jsx)("pointLight",{position:e.position,color:e.color},"light-".concat(t))})),(0,a.jsx)(j,{position:s||[0,0,2],rotation:[0,-.2,0],boxTexture:r,objScale:i,isSquareCard:c}),(0,a.jsx)(x.xC,{multisampling:8,children:(0,a.jsx)(x.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}function j(e){var t=(0,l.useState)(!1),n=t[0],s=t[1],i=(0,m.useSpring)({scale:n?1.2:.8,config:m.config.wobbly}).scale,u=(0,r.m)(e.boxTexture),d=(0,l.useRef)(null);(0,o.xQ)((function(e,t){return d.current.rotation.x=d.current.rotation.y+=.2*t}));return e.boxTexture?(0,a.jsxs)(m.q.mesh,f({},e,{ref:d,scale:i,onClick:function(){return s(!n)},children:[(0,a.jsx)("boxGeometry",{args:[2,2,2]}),(0,a.jsx)("meshStandardMaterial",{map:u})]})):(0,a.jsx)(c.wW,{})}function v(e){var t=(0,r.m)(e.boxTexture),n=(0,l.useRef)(null);(0,o.xQ)((function(t,a){return e.fastSpin?n.current.rotation.x=n.current.rotation.y+=.2*a:n.current.rotation.y+=.005}));var s=[2,2,2];return e.boxTexture?(e.isBox||(s=e.isSquareCard?[2.5,2.5,.01]:[1.6,3.2,.01]),(0,a.jsxs)("mesh",f({},e,{ref:n,rotation:e.isBox?[Math.PI/-8,0,0]:[0,0,0],scale:e.objScale,children:[(0,a.jsx)("boxGeometry",{args:s}),(0,a.jsx)("meshStandardMaterial",{map:t})]}))):(0,a.jsx)(c.wW,{})}function w(e){var t=(0,o.U2)(s.L,"/three_d/gem/source/gem.obj"),n=(0,l.useRef)(null);return(0,o.xQ)((function(e,t){return n.current.rotation.y+=.005})),(0,a.jsx)("primitive",f({},e,{ref:n,scale:.8,rotation:[0,0,0],object:t}))}function y(e){var t=(0,o.U2)(i.y,"/three_d/treasure/source/treasure.fbx"),n=(0,l.useRef)(null),s="/three_d/treasure/textures/",c=(0,r.m)("".concat(s,"treasure01_initialShadingGroup_BaseColor.jpg")),u=((0,r.m)("".concat(s,"treasure01_initialShadingGroup_Metalness.jpg")),(0,r.m)("".concat(s,"treasure01_initialShadingGroup_Normal.jpg"))),d=(0,r.m)("".concat(s,"treasure01_initialShadingGroup_Roughness.jpg")),x=(0,r.m)("".concat(s,"internal_ground_ao_texture.jpeg")),m=(0,l.useMemo)((function(){var e;return t.traverse((function(t){"Mesh"===t.type&&(e=t.geometry)})),e}),[t]);return(0,o.xQ)((function(e,t){return n.current.rotation.y+=.005})),(0,a.jsx)("mesh",f({},e,{geometry:m,ref:n,scale:.4,rotation:[Math.PI/-8,0,0],children:(0,a.jsx)("meshPhysicalMaterial",{map:c,normalMap:u,roughnessMap:d,aoMap:x})}))}function S(){return(0,a.jsx)(o.Xz,{children:(0,a.jsxs)(l.Suspense,{fallback:null,children:[(0,a.jsx)("pointLight",{position:[10,10,10],color:"#0F93AD"}),(0,a.jsx)(w,{position:[0,-2,0]}),(0,a.jsx)(x.xC,{multisampling:8,children:(0,a.jsx)(x.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}function N(){return(0,a.jsx)(o.Xz,{children:(0,a.jsxs)(l.Suspense,{fallback:(0,a.jsx)(p,{}),children:[(0,a.jsx)("pointLight",{position:[10,20,50],color:"white"}),(0,a.jsx)("pointLight",{position:[-10,-10,-10],color:"gold"}),(0,a.jsx)(y,{position:[0,-3,0]})]})})}},7321:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(5893),r=n(7294),s=n(7039),i=n(29),o=n(9795),l=n(856),c=n(7431),u=n(3153),d=n(1163),x=n(6413),m=n(6976),h=n(6694);function f(e){var t=e.isBox,n=e.item_id,r=(0,o.Ge)(),i=r.library,d=r.account,x=r.chainId,h=(0,s.$G)().t;return x?(0,l.MR)(x)?(0,a.jsxs)("div",{className:"flex flex-wrap space-around h-full content-between font-cursive text-diablo-dark-gold",children:[(0,a.jsxs)("div",{className:"w-full",children:[h("items.total_supply"),":",(0,a.jsx)(m.Ms,{className:"inline mx-2",method:"totalSupply",token_id:n,library:i,account:d,chainId:x,isBox:t})]}),(0,a.jsxs)("div",{className:"w-full mb-2",children:[h("items.owns"),":",(0,a.jsx)(m.Ms,{className:"inline mx-2",method:"balanceOf",token_id:n,library:i,account:d,chainId:x,isBox:t})]}),(0,a.jsx)("div",{className:"w-full border-t-2 pt-2 border-obsidian-gold",children:t?(0,a.jsx)(m.tQ,{method:"unpack",token_id:n,library:i,account:d,chainId:x}):null})]}):(0,a.jsx)(c.V9,{message:h("temple.unsupported_chain"),Icon:ExclamationIcon}):(0,a.jsx)(c.V9,{message:h("temple.connect_wallet"),Icon:u.oAu})}function p(){var e=(0,s.$G)().t,t=((0,s.$G)("raw").t_raw,(0,r.useState)([])),n=t[0],o=t[1],l=(0,r.useState)(void 0),m=l[0],p=l[1],b=(0,r.useState)(!1),g=b[0],j=b[1],v=(0,r.useState)(void 0),w=v[0],y=v[1],S=(0,r.useState)(!1),N=S[0],_=S[1],k=(0,r.useState)(!1),C=k[0],P=k[1],B=(0,d.useRouter)();return(0,r.useEffect)((function(){var e=(0,x.B6)("id");p(e),(x.PZ.indexOf(parseInt(e))>-1||x.xn.indexOf(parseInt(e))>-1)&&P(!0);var t="box"==(0,x.B6)("asset_type")?"box":"items";"box"==t&&_(!0);var n=1!=window.history.length,a=function(e,t,n){return"en"===e?"https://tokyo.cards/api/".concat(t,"/").concat(n,"/"):"https://tokyo.cards/api/locale/".concat(e,"/").concat(t,"/").concat(n,"/")}((0,x.B6)("lang")?(0,x.B6)("lang"):"en",t,e);fetch(a).then((function(e){return e.json()})).then((function(e){j(!1),o(e),y(n)}))}),[]),g||!n?(0,a.jsx)(c.wW,{}):(0,a.jsxs)(i.Z,{pageTitle:"tokyo.cards",children:[(0,a.jsx)("button",{className:" hover:bg-obsidian-dark block h-14 w-14 bg-diablo-dark-gold rounded-full fixed z-40 bottom-5 right-5 drop-shadow-lg text-white ",onClick:function(){var e=(0,x.B6)("lang")?(0,x.B6)("lang"):"en";w?B.push("/temple?lang=".concat(e,"&tab=2")):B.push("/?lang=".concat(e))},children:w?(0,a.jsx)(u.Y4O,{className:"h-8 w-8 m-auto"}):(0,a.jsx)(u.tvw,{className:"h-8 w-8 m-auto"})}),(0,a.jsxs)("section",{className:"deck-section py-5 h-20",children:[(0,a.jsx)("div",{className:"flex flex-row mx-auto w-1/3 text-cinnabar",children:(0,a.jsx)("div",{className:"border-obsidian-gold border-b-2 w-1/2 m-auto",children:" "})}),(0,a.jsx)("span",{className:"w-1/3 mx-auto lufddo text-center lg:text-2xl text-diablo-dark-gold place-self-center",children:(0,a.jsxs)("div",{className:"font-cursive text-diablo-dark-gold text-xl",children:[" ",e("items.detail")," "]})}),(0,a.jsx)("div",{className:"flex flex-row mx-auto w-1/3 text-cinnabar",children:(0,a.jsx)("div",{className:"border-obsidian-gold border-b-2 w-1/2 m-auto",children:" "})})]}),(0,a.jsxs)("section",{className:"flex flex-wrap gap-5 m-3",children:[(0,a.jsx)("div",{className:"w-full h-96 relative border-diablo-dark-gold rounded-lg text-center lg:w-6/12",children:n.image?(0,a.jsx)(h.X7,{fastSpin:!1,objScale:1,objPos:void 0,fogColor:["#0E93AD",0,1e3],pntLgts:[{position:[10,20,50],color:"white"}],boxTexture:n.image,isSquareCard:C,isBox:N}):(0,a.jsx)(c.wW,{})}),(0,a.jsxs)("div",{className:"text-cinnabar w-full lg:w-5/12 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"bg-obsidian-gray w-full p-4 rounded-lg",children:[n.attributes&&N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-cursive text-rarity-artifact",children:n&&n.name}),(0,a.jsx)("div",{className:"text-base font-cursive text-diablo-dark-gold",children:e("items.limited")}),(0,a.jsx)("div",{className:"text-sm font-cursive text-diablo-dark-gold",children:e("items.box")}),(0,a.jsxs)("div",{className:"text-xs font text-rarity-uncommon",children:[n.attributes[0].value," ",e("items.item_inside")]})]}),n.attributes&&!N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-cursive text-".concat((0,x.kg)((0,x.PJ)("Rarity",n.attributes).value)),children:n&&n.name}),(0,a.jsx)("div",{className:"text-base font-cursive text-".concat((0,x.kg)((0,x.PJ)("Rarity",n.attributes).value)),children:e((0,x.PJ)("Rarity",n.attributes).value)}),(0,a.jsx)("div",{className:"text-sm font-cursive text-diablo-dark-gold",children:e((0,x.PJ)("Card Type",n.attributes).value)})]}),(0,a.jsx)("div",{className:"text-xs text-rarity-artifact",children:n&&n.description})]}),(0,a.jsx)("div",{className:"text-cinnabar p-4 rounded-lg w-full bg-obsidian-gray",children:(0,a.jsx)(f,{isBox:N,item_id:m})})]}),(0,a.jsx)("div",{className:"text-cinnabar flex flex-wrap gap-2 text-center justify-start place-content-center w-full",children:n.attributes&&!N&&n.attributes.map((function(e,t){return"Name"==e.trait_type?null:(0,a.jsxs)("div",{className:"text-sm rounded-lg h-24 w-24 p-2 bg-obsidian-gray relative",children:[(0,a.jsx)("div",{className:"absolute",children:e.trait_type},"title-".concat(t)),(0,a.jsx)("div",{className:"absolute top-10 w-20 text-".concat((0,x.kg)(e.value)),children:e.value},"value-".concat(t))]},"c-".concat(t))}))},"traits")]})]})}}},function(e){e.O(0,[774,523,112,737,444,345,938,197,888,179],(function(){return t=83,e(e.s=t);var t}));var t=e.O();_N_E=t}]);