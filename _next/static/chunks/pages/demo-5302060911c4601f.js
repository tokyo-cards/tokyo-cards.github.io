(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[656],{5872:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/demo",function(){return t(672)}])},672:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(5893),o=t(7294),i=t(9008),a=t(9795),s=t(715);function l(e){var n=new s.Q(e);return n.pollingInterval=12e3,n}var c=function(e){var n=e.pageTitle,t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{children:(0,r.jsx)("title",{children:n})}),(0,r.jsx)(a.Ht,{getLibrary:l,children:(0,r.jsx)("main",{className:"w-full h-screen",children:t})})]})},u=t(1217),d=t(2849),h=t(5769),f=t(6413),x=t(254),p=t(3328),g=t(8626),j=t(3857),m=t(4232),v=t(9521),y=t(7854),b=t(5960);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(){var e=(0,v.S)().progress;return(0,r.jsx)(y.V,{center:!0,children:(0,r.jsxs)("div",{className:"text-diablo-dark-gold",children:[e.toFixed(),"%"]})})}function O(e){var n=k((0,h.m)(["/images/box/0.jpg","/images/box/0.jpg"]),2),t=n[0],o=n[1];return(0,r.jsxs)("mesh",S({rotation:[-Math.PI/2,0,Math.PI/2]},e,{children:[(0,r.jsx)("planeGeometry",{args:[10,10]}),(0,r.jsx)(x.Q,{resolution:1024,mirror:.75,mixBlur:10,mixStrength:2,minDepthThreshold:.8,maxDepthThreshold:1.2,depthToBlurRatioBias:.2,color:"#FC26E0",metalness:.5,roughnessMap:t,roughness:1,normalMap:o,normalScale:[2,2]})]}))}function _(e){var n=(0,h.m)(e.boxTexture),t=(0,o.useRef)(),i=(0,o.useState)(!1),a=i[0],s=i[1],l=(0,o.useState)(!1),c=l[0],u=l[1],d=(0,o.useState)(!1),x=d[0],p=d[1],g=[3,5,9,12,16,17,20];return(0,m.xQ)((function(n,r){var o=n.clock.getElapsedTime();if(o.toFixed()%17===0&&!x){var i=Math.floor(Math.random()*g.length);e.setAction(g[i]),p(!0)}o.toFixed()%31===0&&x&&(e.setAction(12),p(!1)),e.setElapsed(o.toFixed()),t.current.rotation.x=t.current.rotation.y+=.5*r})),(0,r.jsxs)("mesh",S({},e,{ref:t,scale:c?.4:.25,onClick:function(e){u(!c);var n=(0,f.B6)("lang")?(0,f.B6)("lang"):"en";window.location.href="/?lang=".concat(n)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[(0,r.jsx)("boxGeometry",{args:[1,1,1]}),(0,r.jsx)("meshStandardMaterial",{map:n,color:a?"hotpink":"orange"})]}))}function T(e){var n="/three_d/girl/scene.gltf",t=(0,m.U2)(u.E,n),i=(0,g.L)(n).animations,a=(0,j.v)(i),s=a.ref,l=a.actions,c=Object.keys(l),h=(0,o.useState)(12),f=h[0],x=h[1],v=(0,o.useState)(0),y=v[0],b=v[1],w={fontSize:2.5,letterSpacing:-.05,lineHeight:1,"material-toneMapped":!1};return(0,o.useEffect)((function(){var e;return null===(e=l[c[f]])||void 0===e||e.reset().fadeIn(.5).play(),function(){var e;null===(e=l[c[f]])||void 0===e||e.fadeOut(.5)}}),[l,f,.5]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("directionalLight",{position:[2.5,8,5],intensity:1.5}),(0,r.jsx)(_,{boxTexture:"/images/card_set/tokyo.jpg",position:[.5,2,1.5],setAction:x,setElapsed:b,totalActions:c.length}),(0,r.jsx)("primitive",S({},e,{receiveShadow:!0,ref:s,scale:1,rotation:[0,0,0],object:t.scene})),(0,r.jsx)(O,{position:[0,-2.8,0],"rotation-x":-Math.PI/2}),(0,r.jsx)(p.i,{yawFrequency:.1,pitchFrequency:.1,rollFrequency:.1}),(0,r.jsx)(d.x,S({position:[0,5,-7]},w,{color:"#B80B4D",children:" Tokyo "}),"word-1"),(0,r.jsx)(d.x,S({position:[-1,3,-7]},w,{color:"#A11A56",children:" Cards "}),"word-2"),(0,r.jsxs)(d.x,S({position:[-2,1,-7]},w,{children:[" ","0x".concat(y)," "]}),"word-3")]})}function F(){return(0,r.jsx)(m.Xz,{children:(0,r.jsxs)(o.Suspense,{fallback:(0,r.jsx)(E,{}),children:[(0,r.jsx)("pointLight",{position:[10,50,50],color:"gold"}),(0,r.jsx)("pointLight",{position:[0,-10,0],color:"#FC26E0"}),(0,r.jsx)(T,{position:[0,-2.5,0]}),(0,r.jsx)(b.xC,{multisampling:8,children:(0,r.jsx)(b.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}function P(){return(0,r.jsx)(c,{pageTitle:"tokyo.cards",children:(0,r.jsx)(F,{})})}}},function(e){e.O(0,[737,444,493,408,483,343,774,888,179],(function(){return n=5872,e(e.s=n);var n}));var n=e.O();_N_E=n}]);