"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{6694:function(t,e,n){n.d(e,{X7:function(){return p},ZP:function(){return d},lf:function(){return y}});var r=n(5893),o=n(5769),i=n(7011),a=(n(9854),n(1217),n(4232)),s=n(7294),c=n(7431),l=n(254),u=n(5960),x=n(5449),f=n(5522);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){h(t,e,n[e])}))}return t}function p(t){var e=t.fogColor,n=t.pntLgts,o=t.boxTexture,i=t.isBox,c=t.objPos,l=t.objScale,x=t.isSquareCard,h=t.fastSpin;return(0,r.jsx)(a.Xz,{children:(0,r.jsxs)(s.Suspense,{fallback:(0,r.jsx)(f.aN,{}),children:[(0,r.jsx)("fog",{attach:"fog",args:e}),n.map((function(t,e){return(0,r.jsx)("pointLight",{position:t.position,color:t.color},"light-".concat(e))})),(0,r.jsx)(j,{position:c||[0,0,2],rotation:[0,-.2,0],boxTexture:o,isBox:i,objScale:l,isSquareCard:x,fastSpin:h}),(0,r.jsx)(u.xC,{multisampling:8,children:(0,r.jsx)(u.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}function d(t){var e=t.fogColor,n=t.pntLgts,o=t.boxTexture,i=(t.isBox,t.objPos),c=t.objScale,l=t.isSquareCard;t.fastSpin;return(0,r.jsx)(a.Xz,{children:(0,r.jsxs)(s.Suspense,{fallback:(0,r.jsx)(f.aN,{}),children:[(0,r.jsx)("fog",{attach:"fog",args:e}),n.map((function(t,e){return(0,r.jsx)("pointLight",{position:t.position,color:t.color},"light-".concat(e))})),(0,r.jsx)(g,{position:i||[0,0,2],rotation:[0,-.2,0],boxTexture:o,objScale:c,isSquareCard:l}),(0,r.jsx)(u.xC,{multisampling:8,children:(0,r.jsx)(u.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}function g(t){var e=(0,s.useState)(!1),n=e[0],i=e[1],l=(0,x.useSpring)({scale:n?1.2:.8,config:x.config.wobbly}).scale,u=(0,o.m)(t.boxTexture),f=(0,s.useRef)(null);(0,a.xQ)((function(t,e){return f.current.rotation.x=f.current.rotation.y+=.2*e}));return t.boxTexture?(0,r.jsxs)(x.q.mesh,m({},t,{ref:f,scale:l,onClick:function(){return i(!n)},children:[(0,r.jsx)("boxGeometry",{args:[2,2,2]}),(0,r.jsx)("meshStandardMaterial",{map:u})]})):(0,r.jsx)(c.wW,{})}function j(t){var e=(0,o.m)(t.boxTexture),n=(0,o.m)("/images/collections/acky/sample.png"),i=(0,o.m)("/images/logo.png"),l=(0,s.useRef)(null);(0,a.xQ)((function(e,n){return t.fastSpin?l.current.rotation.x=l.current.rotation.y+=.2*n:l.current.rotation.y+=.005}));var u,x=[2,2,2];return t.boxTexture?t.isBox?(0,r.jsxs)("mesh",m({},t,{ref:l,rotation:t.isBox?[Math.PI/-8,0,0]:[0,0,0],scale:t.objScale,children:[(0,r.jsx)("boxGeometry",{args:x}),(0,r.jsx)("meshStandardMaterial",{map:e})]})):(t.isSquareCard?(u=i,x=[2.5,2.5,.05]):(u=n,x=[1.6,3.2,.05]),(0,r.jsxs)("mesh",m({},t,{ref:l,rotation:t.isBox?[Math.PI/-8,0,0]:[0,0,0],scale:t.objScale,children:[(0,r.jsx)("boxGeometry",{args:x}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",color:13934148}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",color:13934148}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",color:13934148}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",color:13934148}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",map:u}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",map:e})]}))):(0,r.jsx)(c.wW,{})}function S(t){var e=(0,a.U2)(i.L,"/three_d/gem/source/gem.obj"),n=(0,s.useRef)(null),o=(0,s.useMemo)((function(){var t;return e.traverse((function(e){"Mesh"===e.type&&(t=e.geometry)})),t}),[e]);return(0,a.xQ)((function(t,e){return n.current.rotation.y+=.005})),(0,r.jsx)("mesh",m({},t,{geometry:o,ref:n,scale:1,rotation:[0,0,0],children:(0,r.jsx)(l.Q,{resolution:1024,mirror:.5,color:"#55CAFA",metalness:.2,roughness:1,normalScale:[4,4]})}))}function y(){return(0,r.jsx)(a.Xz,{children:(0,r.jsxs)(s.Suspense,{fallback:(0,r.jsx)(f.aN,{}),children:[(0,r.jsx)("pointLight",{position:[10,50,50],color:"white"}),(0,r.jsx)("pointLight",{position:[-10,-10,-10],color:"#FA145B"}),(0,r.jsx)(S,{position:[0,-2.2,0]}),(0,r.jsx)(u.xC,{multisampling:8,children:(0,r.jsx)(u.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.4})})]})})}},5522:function(t,e,n){n.d(e,{aN:function(){return S},CZ:function(){return T}});var r=n(5893),o=n(1217),i=n(5769),a=n(1133),s=n(254),c=n(3328),l=n(8626),u=n(3857),x=n(4232),f=n(7294),h=n(9521),m=n(2849),p=n(5960);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){d(t,e,n[e])}))}return t}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(){var t=(0,h.S)().progress;return(0,r.jsxs)(m.x,g({position:[0,0,0]},{font:"/fonts/DotGothic16-Regular.ttf",fontSize:3,letterSpacing:.2,lineHeight:1,"material-toneMapped":!1},{color:"#F8165D",scale:.3,children:[t.toFixed()," % "]}))}function y(t){var e=j((0,i.m)(["/three_d/girl/textures/floor/Marble006_1K_Roughness.jpg","/images/logo.png"]),2),n=e[0],o=e[1];return(0,r.jsxs)("mesh",g({rotation:[-Math.PI/2,0,1.5*Math.PI]},t,{children:[(0,r.jsx)("planeGeometry",{args:[20,5]}),(0,r.jsx)(s.Q,{resolution:1024,mirror:.75,mixBlur:10,mixStrength:2,minDepthThreshold:.8,maxDepthThreshold:1.2,depthToBlurRatioBias:.2,color:"gold",metalness:.5,roughnessMap:n,roughness:1,normalMap:o,normalScale:[4,4]})]}))}function b(t){var e=function(){var e=Math.floor(Math.random()*S.length);t.setAction(S[e]),j(!0)},n=function(){t.setAction(18),j(!1)},o=(0,i.m)(t.textures),a=(0,f.useRef)(),s=(0,f.useState)(!1),c=s[0],l=s[1],u=(0,f.useState)(!1),h=u[0],m=u[1],p=(0,f.useState)(!1),d=p[0],j=p[1],S=[3,6,9,10,18,22,23],y=(0,f.useState)(0),b=y[0],v=y[1];return(0,x.xQ)((function(r,o){var i=r.clock.getElapsedTime();i.toFixed()%60>=0&&i.toFixed()%60<10&&!d&&e(),i.toFixed()%60>=10&&i.toFixed()%60<20&&d&&n(),i.toFixed()%60>=20&&i.toFixed()%60<30&&!d&&e(),i.toFixed()%60>=30&&i.toFixed()%60<40&&d&&n(),i.toFixed()%60>=40&&i.toFixed()%60<50&&!d&&e(),i.toFixed()%60>=50&&i.toFixed()%60<60&&d&&n(),t.setElapsed(i.toFixed()),a.current.rotation.x=a.current.rotation.y+=.5*o,v(b<6.5?b+o:1)})),(0,r.jsxs)("mesh",g({},t,{ref:a,scale:h?.2:.25,onClick:function(e){var n;h||(m(!0),t.setAction(20),(n=3e3,new Promise((function(t){return setTimeout(t,n)}))).then((function(){t.setAction(18),m(!1)})))},onPointerOver:function(t){return l(!0)},onPointerOut:function(t){return l(!1)},children:[(0,r.jsx)("boxGeometry",{args:[1,1,1]}),(0,r.jsx)("meshStandardMaterial",{attachArray:"material",map:o[parseInt(b.toFixed())],color:c?"black":"white"})]}))}var v=[{up:"\u6771\u4eac",down:function(){return"\u30ab\u30fc\u30ba"}},{up:"NFT",down:function(){return"\u767a\u58f2\u4e2d"}},{up:"TOKYO",down:function(){return"CARDS"}},{up:"NFT",down:function(){return"ON SALE"}},{up:"\u73fe\u5728\u6642\u523b",down:function(){return(new Date).toLocaleTimeString("it-IT")}},{up:"NOW",down:function(){return(new Date).toLocaleTimeString("it-IT")}}];function w(t){var e=t%60;return e>=0&&e<10?v[0]:e>=10&&e<20?v[1]:e>=20&&e<30?v[2]:e>=30&&e<40?v[3]:e>=40&&e<50?v[4]:e>=50&&e<60?v[5]:void 0}function F(t){var e="/three_d/asian_girl/scene.gltf",n=(0,x.U2)(o.E,e),i=(0,l.L)(e).animations,a=(0,u.v)(i),s=a.ref,h=a.actions,p=Object.keys(h),d=(0,f.useState)(18),j=d[0],S=d[1],v=(0,f.useState)(0),F=v[0],T=v[1],O={font:"/fonts/DotGothic16-Regular.ttf",fontSize:3,letterSpacing:.2,lineHeight:1,"material-toneMapped":!1};return(0,f.useEffect)((function(){var t=h[p[j]];return t.reset().fadeIn(2).play(),function(){t.fadeOut(2)}}),[h,j,2]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("directionalLight",{position:[2.5,8,5],intensity:1.5}),(0,r.jsx)(b,{textures:["/images/card_set/tokyo.jpg","/images/logo_extra/0.png","/images/logo_extra/1.png","/images/logo_extra/2.png","/images/logo_extra/3.png","/images/logo_extra/4.png"],position:[.7,-.3,4],setAction:S,setElapsed:T,totalActions:p.length}),(0,r.jsx)("primitive",g({},t,{receiveShadow:!0,ref:s,scale:1,rotation:[0,0,0],object:n.scene})),(0,r.jsx)(y,{position:[0,-2.5,-1],"rotation-x":-Math.PI/2}),(0,r.jsx)(c.i,{yawFrequency:.1,pitchFrequency:.1,rollFrequency:.1}),(0,r.jsxs)(m.x,g({position:[-2,5,-7]},O,{color:"#F8165D",children:[" ",w(F).up," "]}),"word-2"),(0,r.jsxs)(m.x,g({position:[-2,2,-7]},O,{color:"#3E81F5",children:[" ",w(F).down()," "]}),"word-3")]})}function T(){return(0,r.jsx)(x.Xz,{children:(0,r.jsxs)(a.wI,{children:[(0,r.jsx)("pointLight",{position:[10,50,50],color:"#F9125B"}),(0,r.jsx)("pointLight",{position:[0,-10,0],color:"gold"}),(0,r.jsx)(f.Suspense,{fallback:(0,r.jsx)(S,{}),children:(0,r.jsx)(F,{position:[0,-2.5,2]})}),(0,r.jsx)(p.xC,{multisampling:8,children:(0,r.jsx)(p.dp,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.2})})]})})}}}]);