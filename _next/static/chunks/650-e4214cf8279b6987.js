"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{7431:function(e,t,n){n.d(t,{wW:function(){return u},nf:function(){return o},V9:function(){return p},sD:function(){return r}});var a=n(5893),s=n(1436),i=n(2814),u=function(){return(0,a.jsx)("div",{className:"text-3xl h-full p-auto w-auto h-auto text-center text-supernova flex flex-wrap justify-center content-center",children:(0,a.jsx)(i.G,{icon:s.IJ7,className:"inline-block animate-spin"})})},o=function(){return(0,a.jsx)("div",{className:"text-3xl h-full p-auto w-auto h-auto text-center text-supernova flex flex-wrap justify-center content-center",children:(0,a.jsx)(i.G,{icon:s.s3v,className:"inline-block animate-pulse"})})},p=function(e){var t=e.message,n=e.Icon;return(0,a.jsxs)("div",{className:"text-3xl h-full p-auto w-auto h-auto text-center text-supernova flex flex-wrap justify-center content-center",children:[(0,a.jsx)("span",{className:"text-lg font-cursive mr-1",children:t}),(0,a.jsx)(n,{className:"h-8 w-8 inline animate-bounce"})]})},r=function(e){var t=e.message,n=e.icon;return(0,a.jsxs)("div",{className:"text-2xl h-full p-auto w-auto h-auto text-center text-diablo-dark-gold flex flex-wrap justify-center content-center",children:[(0,a.jsx)(i.G,{icon:n,className:"inline-block animate-pulse"}),(0,a.jsx)("span",{className:"text-lg font-cursive mx-2",children:t})]})}},6694:function(e,t,n){n.d(t,{X:function(){return r}});var a=n(5893),s=n(5769),i=n(6447),u=n(7294),o=n(7431);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){var t=e.fogColor,n=e.pntLgtPos,s=e.boxTexture,o=e.isBox,p=e.objPos,r=e.objScale,y=e.isSquareCard,c=e.fastSpin;return(0,a.jsx)(i.Xz,{children:(0,a.jsxs)(u.Suspense,{fallback:null,children:[(0,a.jsx)("fog",{attach:"fog",args:t}),(0,a.jsx)("pointLight",{position:n}),(0,a.jsx)(l,{position:p||[0,0,2],rotation:[0,-.2,0],boxTexture:s,isBox:o,objScale:r,isSquareCard:y,fastSpin:c})]})})}function l(e){var t=(0,s.m)(e.boxTexture),n=(0,u.useRef)(null);(0,i.xQ)((function(t,a){return e.fastSpin?n.current.rotation.x=n.current.rotation.y+=.2*a:n.current.rotation.y+=.005}));var r=[2,2,2];return e.boxTexture?(e.isBox||(r=e.isSquareCard?[2.5,2.5,.01]:[1.6,3.2,.01]),(0,a.jsxs)("mesh",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){p(e,t,n[t])}))}return e}({},e,{ref:n,rotation:e.isBox?[Math.PI/-8,0,0]:[0,0,0],scale:e.objScale,children:[(0,a.jsx)("boxGeometry",{args:r}),(0,a.jsx)("meshStandardMaterial",{map:t})]}))):(0,a.jsx)(o.wW,{})}},6976:function(e,t,n){n.d(t,{tQ:function(){return j},Ms:function(){return I},Rb:function(){return g}});var a=n(8520),s=n.n(a),i=n(5893),u=n(1436),o=n(7039),p=n(2814),r=n(8710),l=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"name":"account","type":"address"},{"indexed":true,"name":"operator","type":"address"},{"indexed":false,"name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"userAddress","type":"address"},{"indexed":false,"name":"relayerAddress","type":"address"},{"indexed":false,"name":"functionSignature","type":"bytes"}],"name":"MetaTransactionExecuted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"ids","type":"uint256[]"},{"indexed":false,"name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"value","type":"string"},{"indexed":true,"name":"id","type":"uint256"}],"name":"URI","type":"event"},{"constant":true,"inputs":[],"name":"ERC712_VERSION","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_uri","type":"string"},{"name":"_proxyRegistryAddress","type":"address"}],"name":"_init","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"},{"name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accounts","type":"address[]"},{"name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"},{"name":"_quantities","type":"uint256[]"},{"name":"_data","type":"bytes"}],"name":"batchMint","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_initialOwner","type":"address"},{"name":"_id","type":"uint256"},{"name":"_initialSupply","type":"uint256"},{"name":"_uri","type":"string"},{"name":"_data","type":"bytes"}],"name":"create","outputs":[{"type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"type":"uint256"}],"name":"creators","outputs":[{"type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"userAddress","type":"address"},{"name":"functionSignature","type":"bytes"},{"name":"sigR","type":"bytes32"},{"name":"sigS","type":"bytes32"},{"name":"sigV","type":"uint8"}],"name":"executeMetaTransaction","outputs":[{"type":"bytes"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"exists","outputs":[{"type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getChainId","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getDomainSeperator","outputs":[{"type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"user","type":"address"}],"name":"getNonce","outputs":[{"name":"nonce","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_proxyRegistryAddress","type":"address"}],"name":"initialize","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"isOperator","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_optionId","type":"uint256"},{"name":"_amount","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"mint","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"ids","type":"uint256[]"},{"name":"amounts","type":"uint256[]"},{"name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"id","type":"uint256"},{"name":"amount","type":"uint256"},{"name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"},{"name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"}],"name":"setCreator","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_tokenId","type":"uint256"},{"name":"_newURI","type":"string"}],"name":"setCustomURI","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_option","type":"uint256"},{"name":"_maxQuantityPerOpen","type":"uint256"},{"name":"_classProbabilities","type":"uint16[]"},{"name":"_guarantees","type":"uint16[]"}],"name":"setOptionSettings","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_factoryAddress","type":"address"},{"name":"_numOptions","type":"uint256"},{"name":"_numClasses","type":"uint256"},{"name":"_seed","type":"uint256"}],"name":"setState","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_classId","type":"uint256"},{"name":"_tokenIds","type":"uint256[]"}],"name":"setTokenIdsForClass","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_newURI","type":"string"}],"name":"setURI","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"type":"uint256"}],"name":"tokenSupply","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"totalSupply","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_optionId","type":"uint256"},{"name":"_toAddress","type":"address"},{"name":"_amount","type":"uint256"}],"name":"unpack","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"uri","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"}]'),y=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"_tokenAddress"}]},{"type":"event","anonymous":false,"name":"OwnershipTransferred","inputs":[{"type":"address","name":"previousOwner","indexed":true},{"type":"address","name":"newOwner","indexed":true}]},{"type":"function","name":"orders","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"}],"outputs":[{"type":"uint256","name":"amount"},{"type":"uint256","name":"price"}]},{"type":"function","name":"owner","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"purchase","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"uint256","name":"_id"},{"type":"uint256","name":"_amount"},{"type":"bytes","name":"_data"}],"outputs":[]},{"type":"function","name":"putOrders","constant":false,"payable":false,"inputs":[{"type":"uint256[]","name":"_ids"},{"type":"uint256[]","name":"_amounts"},{"type":"uint256[]","name":"_prices"}],"outputs":[]},{"type":"function","name":"renounceOwnership","constant":false,"payable":false,"inputs":[],"outputs":[]},{"type":"function","name":"tokenAddress","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"transferOwnership","constant":false,"payable":false,"inputs":[{"type":"address","name":"newOwner"}],"outputs":[]}]'),c=JSON.parse('[{"type":"event","anonymous":false,"name":"ApprovalForAll","inputs":[{"type":"address","name":"account","indexed":true},{"type":"address","name":"operator","indexed":true},{"type":"bool","name":"approved","indexed":false}]},{"type":"event","anonymous":false,"name":"MetaTransactionExecuted","inputs":[{"type":"address","name":"userAddress","indexed":false},{"type":"address","name":"relayerAddress","indexed":false},{"type":"bytes","name":"functionSignature","indexed":false}]},{"type":"event","anonymous":false,"name":"OwnershipTransferred","inputs":[{"type":"address","name":"previousOwner","indexed":true},{"type":"address","name":"newOwner","indexed":true}]},{"type":"event","anonymous":false,"name":"TransferBatch","inputs":[{"type":"address","name":"operator","indexed":true},{"type":"address","name":"from","indexed":true},{"type":"address","name":"to","indexed":true},{"type":"uint256[]","name":"ids","indexed":false},{"type":"uint256[]","name":"values","indexed":false}]},{"type":"event","anonymous":false,"name":"TransferSingle","inputs":[{"type":"address","name":"operator","indexed":true},{"type":"address","name":"from","indexed":true},{"type":"address","name":"to","indexed":true},{"type":"uint256","name":"id","indexed":false},{"type":"uint256","name":"value","indexed":false}]},{"type":"event","anonymous":false,"name":"URI","inputs":[{"type":"string","name":"value","indexed":false},{"type":"uint256","name":"id","indexed":true}]},{"type":"function","name":"ERC712_VERSION","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"_init","constant":false,"payable":false,"inputs":[{"type":"string","name":"_name"},{"type":"string","name":"_symbol"},{"type":"string","name":"_uri"},{"type":"address","name":"_proxyRegistryAddress"}],"outputs":[]},{"type":"function","name":"balanceOf","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"account"},{"type":"uint256","name":"id"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"balanceOfBatch","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address[]","name":"accounts"},{"type":"uint256[]","name":"ids"}],"outputs":[{"type":"uint256[]"}]},{"type":"function","name":"batchMint","constant":false,"payable":false,"inputs":[{"type":"address","name":"_to"},{"type":"uint256[]","name":"_ids"},{"type":"uint256[]","name":"_quantities"},{"type":"bytes","name":"_data"}],"outputs":[]},{"type":"function","name":"contractURI","constant":true,"stateMutability":"pure","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"create","constant":false,"payable":false,"inputs":[{"type":"address","name":"_initialOwner"},{"type":"uint256","name":"_id"},{"type":"uint256","name":"_initialSupply"},{"type":"string","name":"_uri"},{"type":"bytes","name":"_data"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"creators","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"}],"outputs":[{"type":"address"}]},{"type":"function","name":"executeMetaTransaction","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"address","name":"userAddress"},{"type":"bytes","name":"functionSignature"},{"type":"bytes32","name":"sigR"},{"type":"bytes32","name":"sigS"},{"type":"uint8","name":"sigV"}],"outputs":[{"type":"bytes"}]},{"type":"function","name":"exists","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"_id"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"getChainId","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getDomainSeperator","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"bytes32"}]},{"type":"function","name":"getNonce","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"user"}],"outputs":[{"type":"uint256","name":"nonce"}]},{"type":"function","name":"initialize","constant":false,"payable":false,"inputs":[{"type":"address","name":"_proxyRegistryAddress"}],"outputs":[]},{"type":"function","name":"isApprovedForAll","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"_owner"},{"type":"address","name":"_operator"}],"outputs":[{"type":"bool","name":"isOperator"}]},{"type":"function","name":"mint","constant":false,"payable":false,"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_id"},{"type":"uint256","name":"_quantity"},{"type":"bytes","name":"_data"}],"outputs":[]},{"type":"function","name":"name","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"owner","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"renounceOwnership","constant":false,"payable":false,"inputs":[],"outputs":[]},{"type":"function","name":"safeBatchTransferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256[]","name":"ids"},{"type":"uint256[]","name":"amounts"},{"type":"bytes","name":"data"}],"outputs":[]},{"type":"function","name":"safeTransferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"id"},{"type":"uint256","name":"amount"},{"type":"bytes","name":"data"}],"outputs":[]},{"type":"function","name":"setApprovalForAll","constant":false,"payable":false,"inputs":[{"type":"address","name":"operator"},{"type":"bool","name":"approved"}],"outputs":[]},{"type":"function","name":"setCreator","constant":false,"payable":false,"inputs":[{"type":"address","name":"_to"},{"type":"uint256[]","name":"_ids"}],"outputs":[]},{"type":"function","name":"setCustomURI","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"_tokenId"},{"type":"string","name":"_newURI"}],"outputs":[]},{"type":"function","name":"setURI","constant":false,"payable":false,"inputs":[{"type":"string","name":"_newURI"}],"outputs":[]},{"type":"function","name":"supportsInterface","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"bytes4","name":"interfaceId"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"symbol","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"tokenSupply","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"totalSupply","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"_id"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"transferOwnership","constant":false,"payable":false,"inputs":[{"type":"address","name":"newOwner"}],"outputs":[]},{"type":"function","name":"uri","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"_id"}],"outputs":[{"type":"string"}]}]'),d=n(856),m=n(7431),f=n(2593),b=n(5553),x=n(9174),v=n(7294);function w(e,t,n,a,s,i,u){try{var o=e[i](u),p=o.value}catch(r){return void n(r)}o.done?t(p):Promise.resolve(p).then(a,s)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function u(e){w(i,a,s,u,o,"next",e)}function o(e){w(i,a,s,u,o,"throw",e)}u(void 0)}))}}function h(e){return new Promise((function(t){return setTimeout(t,e)}))}function g(e){var t=e.className,n=e.chainId,a=(e.account,e.library),c=e.innerText,w=e.totalSellOrder,g=e.tokenId,I=e.assetName,j=e.assetDescription,N=e.assetPrice,S=(0,o.$G)().t,M=(0,v.useState)(),O=M[0],k=M[1],A=(0,v.useState)(void 0),T=A[0],C=A[1],R=(0,v.useState)(void 0),F=R[0],E=R[1],U=(0,r.z)(a,l),P=(0,r.z)(a,y),B=function(e){if("balanceOf"===e){var t=(0,d.nf)(n,"lootbox").contract_addr,a=(0,d.PQ)(n).seller;return U(n,t,"balanceOf",a,parseInt(g))}if("purchase"===e){var s=(0,d.PQ)(n).contract;return P(n,s,"purchase",parseInt(g),1,"0x00",{value:f.O$.from((0,b.vz)(N,18))})}},z=_(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(2e3+1e3*(n=3,Math.floor(Math.random()*n)));case 2:return e.prev=2,e.next=5,B("balanceOf");case 5:t=e.sent,k(t.toNumber()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),C(e.t0),console.error(e.t0);case 13:case"end":return e.stop()}var n}),e,null,[[2,9]])}))),D=_(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B("purchase");case 3:E(S("lootbox.purchase_thanks")),h(5e3).then((function(){E(void 0)})),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.code),[4001,-32603,"INSUFFICIENT_FUNDS","UNPREDICTABLE_GAS_LIMIT"].indexOf(e.t0.code)>-1?(4001===e.t0.code&&E(S("lootbox.purchase_cancel")),"INSUFFICIENT_FUNDS"!==e.t0.code&&"UNPREDICTABLE_GAS_LIMIT"!==e.t0.code&&-32603!==e.t0.code||E(S("lootbox.insufficient_fund"))):E(S("lootbox.unknown_error")),h(5e3).then((function(){E(void 0)}));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return(0,v.useEffect)((function(){z()}),[n]),T?(0,i.jsxs)("div",{className:"mt-2 flex flex-wrap h-56 justify-center",children:[" ",(0,i.jsx)(m.nf,{})," "]}):O?F?(0,i.jsx)("div",{className:"mt-2 flex flex-wrap h-56 justify-center",children:(0,i.jsx)(m.sD,{message:F,icon:u.xHz})}):(0,i.jsxs)("div",{className:"mt-2 flex flex-wrap h-56",children:[(0,i.jsx)("div",{className:"w-full px-2 text-2xl",children:I}),(0,i.jsx)("div",{className:"w-full text-left px-2 text-xs text-rarity-uncommon font-sans",children:j}),(0,i.jsxs)("div",{className:"w-full text-left px-2 text-xl text-diablo-dark-gold my-2",children:[(0,i.jsx)(x.bS,{className:"h-6 w-6 inline-block mr-2"}),N]}),(0,i.jsx)("div",{className:"w-full px-2",children:(0,i.jsx)("div",{className:"h-2 bg-gradient-to-r from-razzmatazz to-blue-500 rounded-lg",children:(0,i.jsx)("div",{className:"h-2 bg-diablo-dark-gold rounded-lg w-".concat(parseFloat("".concat((w-O)/w*100)).toFixed(),"%")})})}),(0,i.jsxs)("div",{className:"w-full text-left px-2 text-base text-diablo-dark-gold text-right",children:[S("lootbox.remaining")," ",O," ",S("lootbox.units")]}),(0,i.jsxs)("button",{onClick:function(){D()},className:"".concat(t," hover:bg-obsidian-gold hover:text-white"),children:[(0,i.jsx)(p.G,{icon:u.Cdv,className:"inline-block mr-2"}),c]})]}):(0,i.jsxs)("div",{className:"mt-2 flex flex-wrap h-56 justify-center",children:[" ",(0,i.jsx)(m.wW,{})," "]})}function I(e){var t=e.isBox,n=e.method,a=e.className,o=e.token_id,y=e.library,m=e.chainId,f=e.account,b=(0,v.useState)(void 0),x=b[0],w=b[1],h=t?(0,r.z)(y,l):(0,r.z)(y,c),g=t?(0,d.nf)(m,"lootbox").contract_addr:(0,d.nf)(m,"cards").contract_addr;(0,v.useEffect)((function(){I()}),[m]);var I=_(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"balanceOf"==n?h(m,g,"balanceOf",f,parseInt(o)):"totalSupply"==n?h(m,g,"totalSupply",parseInt(o)):void 0;case 3:t=e.sent,w(t.toNumber()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return void 0!=x?(0,i.jsx)("div",{className:a,children:(0,i.jsx)("span",{children:x})}):(0,i.jsx)("div",{className:a,children:(0,i.jsx)(p.G,{icon:u.IJ7,className:"inline-block animate-spin"})})}function j(e){e.method;var t=e.token_id,n=e.library,a=e.chainId,y=e.account,c=e.isBox,f=(0,r.z)(n,l),b=(0,d.nf)(a,"lootbox"),x=(0,v.useState)(void 0),w=x[0],g=x[1],I=b.contract_addr,j=(0,o.$G)().t,N=_(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(a,I,"unpack",parseInt(t),y,1,{gasLimit:15e5});case 3:return g(j("lootbox.unpack_ok")),e.next=6,h(5e3);case 6:g(void 0),e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0.code),[4001,"INSUFFICIENT_FUNDS","UNPREDICTABLE_GAS_LIMIT"].indexOf(e.t0.code)>-1?(4001===e.t0.code&&g(j("lootbox.unpack_ng")),"INSUFFICIENT_FUNDS"!==e.t0.code&&"UNPREDICTABLE_GAS_LIMIT"!==e.t0.code||g(j("lootbox.insufficient_fund"))):g(j("lootbox.unknown_error")),e.next=15,h(5e3);case 15:g(void 0);case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return c?w?(0,i.jsx)(m.sD,{message:w,icon:u.xHz}):(0,i.jsxs)("button",{className:" text-diablo-dark-gold border-2 border-diablo-dark-gold py-2 px-4 my-2 font-cursive hover:bg-obsidian-gold hover:text-white",onClick:function(){N()},children:[(0,i.jsx)(p.G,{icon:u.IA$,className:"inline-block mr-2"}),j("lootbox.unpack")]}):(0,i.jsx)(i.Fragment,{})}}}]);